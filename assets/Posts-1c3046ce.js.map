{"version":3,"file":"Posts-1c3046ce.js","sources":["../../src/components/PostsContent.vue","../../src/views/Posts.vue"],"sourcesContent":["<template>\r\n  <div class=\"posts__content\">\r\n    <input type=\"\" placeholder=\"search\" v-model=\"search\" name=\"\" />\r\n    <div class=\"main__container posts\" v-if=\"posts\">\r\n      <div class=\"table__container\">\r\n        <div class=\"table__row heading\">\r\n          <div class=\"row__item row-id\">Id</div>\r\n          <div class=\"row__item\">Title</div>\r\n          <div class=\"row__item flex-7\">Text</div>\r\n        </div>\r\n        <router-link :to=\"/posts/ + post.id\" class=\"table__row\" v-for=\"(post, index) in posts\" :key=\"index\">\r\n          <div class=\"row__item row-id\">{{ post.id }}</div>\r\n          <div class=\"row__item\">{{ post.title }}</div>\r\n          <div class=\"row__item flex-7\">{{ post.body }}</div>\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n    <paginate v-if=\"posts.length > 8\" :page-count=\"10\" :click-handler=\"clickCallback\" :prev-text=\"'Prev'\"\r\n      :next-text=\"'Next'\" :container-class=\"'posts__pagination'\">\r\n    </paginate>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed, ref, watch } from \"vue\";\r\nconst props = defineProps([\"allPosts\"]);\r\nlet posts = ref(props.allPosts.slice(0, 10));\r\nconst search = ref(\"\");\r\nconst rows = ref(10);\r\nfunction clickCallback(currentPage) {\r\n  let start = rows.value * currentPage - 10;\r\n  let end = start + rows.value;\r\n  let paginatedDate = props.allPosts.slice(start, end);\r\n  posts.value = paginatedDate;\r\n}\r\n\r\n// const filterContacts = computed(() => {\r\n//   const searchVal = search.value.toLowerCase();\r\n//   if (searchVal == \"\") {\r\n//     return posts = props.allPosts.slice(0, 10);\r\n//   } else {\r\n//     return props.allPosts.filter(c => {\r\n//       return (\r\n//         c?.title.toLowerCase().includes(searchVal)\r\n//       )\r\n//     })\r\n//   }\r\n// })\r\n\r\nwatch(search, (search) => {\r\n    if (search !== \"\") posts.value = props.allPosts.filter((el) => el.title.toLowerCase().includes(search.toLowerCase()))\r\n    else posts.value = props.allPosts.slice(0, 10);\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","<template>\r\n  <div class=\"wrapper posts\">\r\n    <h2>Posts</h2>\r\n    <PostsContent :allPosts=\"posts\" v-if=\"posts\" />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { usePosts } from \"@/stores/posts.js\";\r\nimport { computed, onMounted, ref, watch } from \"vue\";\r\nimport PostsContent from \"@/components/PostsContent.vue\";\r\nconst postsStore = usePosts();\r\nconst posts = computed(() => postsStore.posts);\r\nonMounted(() => {\r\n  postsStore.getPosts();\r\n});\r\n\r\n\r\n\r\n// function pagin(data, rows, page) {\r\n//     let start = rows * page\r\n//     let end = start + rows\r\n//     let paginatedDate = data.slice(start, end)\r\n\r\n// }\r\n// function clickCallback(pageNum) {\r\n//   pagin(posts.value, rows.value, pageNum);\r\n// }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n"],"names":["posts","ref","props","search","rows","clickCallback","currentPage","start","end","paginatedDate","watch","el","postsStore","usePosts","computed","onMounted"],"mappings":"knBA0BA,IAAIA,EAAQC,EAAIC,EAAM,SAAS,MAAM,EAAG,EAAE,CAAC,EAC3C,MAAMC,EAASF,EAAI,EAAE,EACfG,EAAOH,EAAI,EAAE,EACnB,SAASI,EAAcC,EAAa,CAClC,IAAIC,EAAQH,EAAK,MAAQE,EAAc,GACnCE,EAAMD,EAAQH,EAAK,MACnBK,EAAgBP,EAAM,SAAS,MAAMK,EAAOC,CAAG,EACnDR,EAAM,MAAQS,CAChB,CAeA,OAAAC,EAAMP,EAASA,GAAW,CAClBA,IAAW,GAAIH,EAAM,MAAQE,EAAM,SAAS,OAAQS,GAAOA,EAAG,MAAM,YAAa,EAAC,SAASR,EAAO,YAAW,CAAE,CAAC,EAC/GH,EAAM,MAAQE,EAAM,SAAS,MAAM,EAAG,EAAE,CACjD,CAAC,mqBCzCD,MAAMU,EAAaC,EAAQ,EACrBb,EAAQc,EAAS,IAAMF,EAAW,KAAK,EAC7C,OAAAG,EAAU,IAAM,CACdH,EAAW,SAAQ,CACrB,CAAC"}